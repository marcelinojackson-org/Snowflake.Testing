const mockConnection = {
  getId: () => 'mock-connection-id',
  connect(callback) {
    setImmediate(() => callback(null, mockConnection));
  },
  execute({ complete }) {
    setImmediate(() => complete(null, null, [{ SERVER_TIME: '2025-01-01 00:00:00.000 +0000' }]));
  },
  destroy(callback) {
    if (callback) {
      setImmediate(() => callback(null));
    }
  }
};

module.exports = {
  createConnection: () => mockConnection
};
